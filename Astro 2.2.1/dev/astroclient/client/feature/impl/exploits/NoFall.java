package dev.astroclient.client.feature.impl.exploits;

import dev.astroclient.client.event.impl.player.EventMotion;
import dev.astroclient.client.feature.Category;
import dev.astroclient.client.feature.ToggleableFeature;
import dev.astroclient.client.feature.annotation.Toggleable;
import awfdd.ksksk.zabejhf.rgsd.xasnfkj.zajjebf.Subscribe;

@Toggleable(label = "NoFall", category = Category.EXPLOITS)
public class NoFall extends ToggleableFeature {

    @Subscribe
    public void onEvent(EventMotion eventMotion) {
        if (mc.thePlayer.onGround)
            mc.thePlayer.fallDistance = 0;
        if (!mc.thePlayer.isSpectator() && !mc.thePlayer.capabilities.allowFlying)
            if (mc.thePlayer.fallDistance >= 2.95)
                eventMotion.setOnGround(true);
    }

}
